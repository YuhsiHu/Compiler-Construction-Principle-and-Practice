# 编译原理复习提纲
==============
## 目录
---------
### 1. 编译器工作过程
### 2. 词法分析
### 3. 上下文无关法
### 4. 语法分析
### 5. 语义分析
### 6. 中间代码生成  
### 7. 运行时环境
   
## 1.编译器工作过程（非考点）
--------------------
### 1.1 编译器（compiler）的发展  
* **第一代编程语言**：20世纪40年代，冯•诺伊曼存储—程序计算机，编写一串代码或程序成为必要，开始用机器语言编写程序。
* **第二代编程语言**：汇编语言。汇编程序将汇编语言程序的符号代码和存储地址翻译成与之等价的机器码。  
* **第三代编程语言**：高级语言。类似于数学定义或自然语言的简洁形式来编写程序，与机器无关。 
 
**编译器的定义**：把计算机高级语言(源语言)编写的程序(源程序)翻译成该计算机的汇编语言或机器语言(目标语言)书写的程序(目标程序)的计算机程序称为编译器(或编译程序)。   

### 1.2 解释程序（interpreter）  
解释程序是如同编译器的一种语言翻译程序，与编译器不同之处在于：
* 它以源程序为输入，在执行过程中不产生目标程序（代码），而是边解释边执行，即直接执行源程序中蕴含的操作。
* 解释程序实现简单，易于在解释执行过程中插入修改和调试措施，但边解释边执行的方式工作效率低，可能需要重复翻译和执行语句，它经常用于执行命令语言(Python)和交互式会话语言程序的执行等。
* 编译执行和解释执行是两种最基本的运行程序的途径。
  
### 1.3 编译器构造逻辑阶段的划分
![编译器逻辑结构](/storage/编译器构造逻辑阶段划分.png)  

* **词法分析程序**：逐个读入源程序字符并按照构词规则切分成一系列单词(token)。单词是语言中具有独立意义的最小单位，包括保留字、标识符、运算符、标点符号和常量等。
* **语法分析程序**：语法分析以词法分析程序输出的单词序列(或流)为输入，分析源程序的语法结构，判断它是否为相应程序设计语言的合法程序，并可以确定单词流中违反源语言语法结构规则的错误。
* **语义分析程序**：语义分析是在语法分析程序确定出语法短语后，审查有无语义错误，并为代码生成阶段收集符号属性信息。
* **中间代码生成**：为了处理方便和便于代码优化，通常在语义分析后并不直接产生目标代码，而是生成介于源代码和目标代码二者之间的中间代码。
* **代码优化程序**：代码优化工作可以在不同的编译阶段进行，其中对中间代码的优化尤其重要。为了使生成的目标代码更为高效，可以对产生的中间代码进行等价变换或改造（称为代码的优化）。
* **目标代码生成**：将中间代码翻译成为目标程序。通常目标代码可采用如下三种形式之一：
   * 具有绝对地址的机器指令代码。
   * 模块结构的机器指令。
   * 汇编语言形式的目标程序。
* **常数表**：常数表的功能是存放在编译过程中用到的常量和字符串，快速插入和查找操作在常数表中十分重要。由于常数表的数据在整个编译过程中都被用到，所以无需在常数表中进行删除操作。
* **符号表**：符号表存储函数、变量、常量以及数据类型等标识符相关的信息。符号表用于以下情况：
  * 在词法分析、语法分析和语义分析的过程中收集有关标识符的属性，并存于符号表中。
  * 作为进行语法和语义的合法性检查的依据。例如，同一个标识符可能在程序的不同地方出现，需要检查标识符在上下文中的一致性和合法性，而符号表正是进行这种检查的依据；
* **错误处理器**：在编译的每一个阶段，编译器对源程序中错误的反应是其重要功能之一。
  
### 1.4 编译阶段的组合——前端与后端
* **前端（Front-End）**：与目标机无关的部分。包括分析部分(词法、语法、语义分析)、中间代码生成与优化以及这部分的符号表管理错误处理。
*  **后端（Back-End）**：与目标机有关部分。包括目标代码生成、与目标机有关的优化以及这部分的符号表管理和错误处理工作。

不同的前端和后端组合可以得到不同的编译器。  

### 1.5 交叉编译  
* 嵌入式应用增长的需求，推动了交叉编译技术的发展。
* 交叉编译是指在计算机M1上编译出计算机M2的目标程序。
  * 目前，交叉编译在嵌入式系统开发领域应用相当广泛。通常称M1为宿主机(host)，称M2为目标机(target)。
  * 编译时将应用程序的源程序在宿主机上生成目标机代码。
* 编译程序的目标语言(目标程序) : (object or target  language)(Object or target program)
* 编译程序的源语言(源程序):(Source language)(source program) 
* 编译程序的实现语言:   (Implementation language)

## 2.词法分析（考点为2.2-2.5）
-------------------------------------------------------
### 2.1 词法分析器的作用  
* **词法分析器(词法分析程序或扫描器)的任务**：从源代码中读取输入字符，按照构词规则切分成一系列单词(token )， 提交给语法分析使用。
  * 识别出源程序中的单词；
      * `java.util.StringTokenizer`
      * `String`类的`split`方法
  * 删除无用的空白字符及注释；
  * 检测出输入的源程序中不能形成源语言任何单词的错误字符串。
* **词法分析器的输出**: Token序列，每个Token包括两个方面的内容:
    * Token = 字符串（词义）+类型（词法）

### 2.2 正规表达式 
#### 2.2.1 基本概念和术语
* **字母表（符号表、符号集）**：由若干元素（符号、字母）组成的有限非空集合称为字母表。
   * 不同的语言有不同的字母表，例如汉语的字母表中包括汉字、数字及标点符号等。
* **符号串**：由字母表中的符号组成的任何有穷序列称为符号串。
   * 字母表A=｛a，b，c｝上的符号串有： a，b，c，ab，aaca等等。
   * 在符号串中，符号的顺序是很重要的，符号串ab不同于ba。
* **符号串的长度**：如果某符号串x中有m个符号，则称其长度为m，表示为｜x｜=m，如001110的长度是6。
* **空符号串ε**，不包含任何符号的符号串，其长度为0，即｜ε｜=0。
* **符号串（包含空符号串）的连接**：设x和y是符号串，它们的连接xy是把y的符号写在x的符号之后得到的符号串。
    * 例如 x=ST，y=abu，则它们的连接 xy=STabu。
    * 由于ε的含义，有εx=xε=x。
* **符号串的方幂**：符号串自身连接n次得到的符号串x的n次方定义为 xx…xx；x的1次方=x, x的2次方=xx，且规定x0=ε。
* **符号串集合（或语言）**：若集合A中所有元素都是某字母表Σ上的符号串，则称A为字母表Σ上的符号串集合（或语言）。


#### 2.2.2 正规表达式的定义
#### 2.2.3 正规表达式的扩展
#### 2.2.4 单词的正规表达式举例


### 2.3 有穷自动机

### 2.4 从正规表达式到DFA

### 2.5 用代码实现有穷自动机

### 2.6 自动生成词法分析程序

### 2.7 编译器实现（词法分析模块）

## 3.上下文无关法（考点为3.2-3.3）
----------------------------------------

## 4.语法分析（考点为第一部分的4.2-4.3，第二部分的4.3-4.6）
--------------------------------------------------------

## 5.语义分析（考点为5.1）
-------------------------------------------------------

## 6.中间代码生成（考点为6.2-6.4）
--------------------------------------------------------

## 7.运行时环境（考点为7.1和7.3）
--------------------------------------------------------



